
generalized_tables:

# etldoc: imposm3 -> osm_highway_linestring_gen4
  highway_linestring_gen4:
    source: highway_linestring_gen3
    sql_filter: highway IN ('motorway','trunk') AND NOT is_area
    tolerance: 200.0

# etldoc: imposm3 -> osm_highway_linestring_gen3    
  highway_linestring_gen3:
    source: highway_linestring_gen2
    sql_filter: highway IN ('motorway','trunk', 'primary') AND NOT is_area
    tolerance: 120.0

# etldoc: imposm3 -> osm_highway_linestring_gen2    
  highway_linestring_gen2:
    source: highway_linestring_gen1
    sql_filter: highway IN ('motorway','trunk', 'primary', 'secondary') AND NOT is_area
    tolerance: 50.0

# etldoc: imposm3 -> osm_highway_linestring_gen1    
  highway_linestring_gen1:
    source: highway_linestring
    sql_filter: highway IN ('motorway','trunk', 'primary', 'secondary', 'tertiary') AND NOT is_area
    tolerance: 20.0

tables:
# etldoc: imposm3 -> osm_highway_linestring
  highway_linestring:
    type: linestring
    fields:
    - name: osm_id
      type: id
    - name: geometry
      type: geometry
    - name: highway
      key: highway
      type: string
    - key: ref
      name: ref
      type: string
    - name: z_order
      type: wayzorder
    - name: layer
      key: layer
      type: integer
    - key: tunnel
      name: is_tunnel
      type: bool
    - key: bridge
      name: is_bridge
      type: bool
    - key: ramp
      name: is_ramp
      type: bool
    - key: ford
      name: is_ford
      type: bool
    - key: oneway
      name: is_oneway
      type: bool
    - key: name
      name: name
      type: string
    - name: name_en
      key: name:en
      type: string
    - name: is_area
      key: area
      type: bool
    mapping:
      highway:
      - motorway
      - motorway_link
      - trunk
      - trunk_link
      - primary
      - primary_link
      - secondary
      - secondary_link
      - tertiary
      - tertiary_link
      - unclassified
      - residential
      - road
      - living_street
      - raceway
      - construction
      - track
      - service
      - path
      - cycleway
      - bridleway
      - footway
      - corridor
      - crossing
      - pedestrian

# etldoc: imposm3 -> osm_highway_polygon     
  highway_polygon:
    type: polygon
    fields:
    - name: osm_id
      type: id
    - name: geometry
      type: geometry
    - name: highway
      key: highway
      type: string
    - name: z_order
      type: wayzorder
    - name: layer
      key: layer
      type: integer
    - name: is_area
      key: area
      type: bool
    mapping:
      highway:
      - pedestrian
