_prefs: 
  disabled: []
  inspector: false
  mapid: ''
  rev: ''
  saveCenter: true
attribution: "<a href=\"http://www.openstreetmap.org/about/\" target=\"_blank\">&copy; OpenStreetMap contributors</a>"
center: 
  - 8.6627
  - 47.3872
  - 0
description: "Free global vector tiles from OpenStreetMap. http://osm2vectortiles.org"
Layer: 
  - id: water
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geom
      geometry_table: ''
      host: db
      key_field: ''
      key_field_as_attribute: ''
      max_size: 512
      password: osm
      port: 5432
      srid: ''
      table: |-
        ( SELECT *
          FROM (
              SELECT * FROM water_z0
              WHERE z(!scale_denominator!) = 0
              UNION ALL
              SELECT * FROM water_z1
              WHERE z(!scale_denominator!) = 1
              UNION ALL
              SELECT * FROM water_z2
              WHERE z(!scale_denominator!) = 2
              UNION ALL
              SELECT * FROM water_z3
              WHERE z(!scale_denominator!) = 3
              UNION ALL
              SELECT * FROM water_z4
              WHERE z(!scale_denominator!) = 4
              UNION ALL
              SELECT * FROM water_z5
              WHERE z(!scale_denominator!) = 5
              UNION ALL
              SELECT * FROM water_z6
              WHERE z(!scale_denominator!) = 6
              UNION ALL
              SELECT ST_SimplifyPreserveTopology(geom, 200) AS geom FROM water_z8
              WHERE z(!scale_denominator!) = 8
              UNION ALL
              SELECT ST_SimplifyPreserveTopology(geom, 100) AS geom FROM water_z8
              WHERE z(!scale_denominator!) BETWEEN 9 AND 10
              UNION ALL
              SELECT * FROM water_z11
              WHERE z(!scale_denominator!) = 11
              UNION ALL
              SELECT * FROM water_z12
              WHERE z(!scale_denominator!) = 12
              UNION ALL
              SELECT * FROM water_z13
              WHERE z(!scale_denominator!) = 13
              UNION ALL
              SELECT * FROM water_z14
              WHERE z(!scale_denominator!) >= 14
          ) AS water
          WHERE geom && !bbox!
        ) AS data
      type: postgis
      user: osm
    description: Ocean and lake polygons
    fields: {}
    properties: 
      "buffer-size": 4
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: boundary
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geom
      geometry_table: ''
      host: db
      key_field: ''
      key_field_as_attribute: ''
      max_size: 512
      password: osm
      port: 5432
      srid: ''
      table: |-
        ( SELECT *
          FROM (
              SELECT * FROM boundary_z0 WHERE z(!scale_denominator!) = 0
              UNION ALL
              SELECT * FROM boundary_z1 WHERE z(!scale_denominator!) BETWEEN 1 AND 2
              UNION ALL
              SELECT * FROM boundary_z3 WHERE z(!scale_denominator!) = 3
              UNION ALL
              SELECT * FROM boundary_z4 WHERE z(!scale_denominator!) = 4
              UNION ALL
              SELECT * FROM boundary_z5 WHERE z(!scale_denominator!) BETWEEN 5 AND 6
              UNION ALL
              SELECT * FROM boundary_z7 WHERE z(!scale_denominator!) = 7
              UNION ALL
              SELECT ST_Simplify(geom, 400) AS geom, admin_level, scalerank, class
              FROM boundary_z8 WHERE z(!scale_denominator!) = 8
              UNION ALL
              SELECT ST_Simplify(geom, 320) AS geom, admin_level, scalerank, class
              FROM boundary_z8 WHERE z(!scale_denominator!) = 9
              UNION ALL
              SELECT ST_Simplify(geom, 150) AS geom, admin_level, scalerank, class
              FROM boundary_z10 WHERE z(!scale_denominator!) = 10
              UNION ALL
              SELECT ST_Simplify(geom, 100) AS geom, admin_level, scalerank, class
              FROM boundary_z10 WHERE z(!scale_denominator!) = 11
              UNION ALL
              SELECT ST_Simplify(geom, 50) AS geom, admin_level, scalerank, class
              FROM boundary_z10 WHERE z(!scale_denominator!) = 12
              UNION ALL
              SELECT geom, admin_level, scalerank, class
              FROM boundary_z10 WHERE z(!scale_denominator!) >= 13
          ) AS admin
          WHERE geom && !bbox!
        ) AS data
      type: postgis
      user: osm
    description: Buildings
    fields: 
      admin_level: Number
      class: String
      scalerank: Number
    properties: 
      "buffer-size": 4
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: road
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geom
      geometry_table: ''
      host: db
      key_field: ''
      key_field_as_attribute: ''
      max_size: 512
      password: osm
      port: 5432
      srid: ''
      table: |-
        ( SELECT *
          FROM (
            SELECT * FROM road_z4 WHERE z(!scale_denominator!) BETWEEN 4 AND 5
            UNION ALL
            SELECT * FROM road_z5 WHERE z(!scale_denominator!) = 5
            UNION ALL
            SELECT * FROM road_z6 WHERE z(!scale_denominator!) = 6
            UNION ALL
            SELECT * FROM road_z7 WHERE z(!scale_denominator!) = 7
            UNION ALL
            SELECT * FROM road_z8 WHERE z(!scale_denominator!) = 8
            UNION ALL
            SELECT ST_Simplify(geom, 200), class FROM road_z9 WHERE z(!scale_denominator!) = 9
            UNION ALL
            SELECT ST_Simplify(geom, 120), class FROM road_z10 WHERE z(!scale_denominator!) = 10
            UNION ALL
            SELECT ST_Simplify(geom, 50), class FROM road_z11 WHERE z(!scale_denominator!) = 11
            UNION ALL
            SELECT ST_Simplify(geom, 20), class FROM road_z12 WHERE z(!scale_denominator!) = 12
            UNION ALL
            SELECT * FROM road_z13 WHERE z(!scale_denominator!) = 13
            UNION ALL
            SELECT * FROM road_z14 WHERE z(!scale_denominator!) >= 14
          ) AS road
          WHERE geom && !bbox!
        ) AS data
      type: postgis
      user: osm
    description: Buildings
    fields: 
      class: String
    properties: 
      "buffer-size": 4
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: ice
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geom
      geometry_table: ''
      host: db
      key_field: ''
      key_field_as_attribute: ''
      max_size: 512
      password: osm
      port: 5432
      srid: ''
      table: |-
        ( SELECT geom, type
          FROM (
              SELECT ST_Simplify(geom, 80000) AS geom, type FROM ice_z0
              WHERE z(!scale_denominator!) BETWEEN 0 AND 1
              UNION ALL
              SELECT * FROM ice_z2
              WHERE z(!scale_denominator!) BETWEEN 2 AND 4
              UNION ALL
              SELECT * FROM ice_z5
              WHERE z(!scale_denominator!) BETWEEN 5 AND 8
          ) AS ice
          WHERE geom && !bbox!
        ) AS t
      type: postgis
      user: osm
    description: Ice shelves
    fields: 
      type: String
    properties: 
      "buffer-size": 4
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: building
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: way
      geometry_table: ''
      host: db
      key_field: ''
      key_field_as_attribute: ''
      max_size: 512
      password: osm
      port: 5432
      srid: ''
      table: |-
        ( SELECT
            osm_id,
            way,
            least(greatest(3, COALESCE(height, levels*3.66,5)),400)^.7 AS render_height
          FROM (
              SELECT osm_id, ST_Simplify(way, 10) AS way, height, levels FROM building_z13
              WHERE z(!scale_denominator!) = 13
              UNION ALL
              SELECT * FROM building_z14
              WHERE z(!scale_denominator!) >= 14
          ) AS water
          WHERE way && !bbox!
          ORDER BY render_height, ST_YMin(way) DESC
        ) AS data
      type: postgis
      user: osm
    description: Buildings
    fields: 
      osm_id: Number
      render_height: Number
    properties: 
      "buffer-size": 4
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: urban
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geom
      geometry_table: ''
      host: db
      key_field: ''
      key_field_as_attribute: ''
      max_size: 512
      password: osm
      port: 5432
      srid: ''
      table: |-
        ( SELECT geom, scalerank
          FROM (
              SELECT * FROM urban_z4
              WHERE z(!scale_denominator!) = 4
              UNION ALL
              SELECT * FROM urban_z5
              WHERE z(!scale_denominator!) = 5
              UNION ALL
              SELECT * FROM urban_z6
              WHERE z(!scale_denominator!) >= 6 AND scalerank-1 <= z(!scale_denominator!)
          ) AS urban
          WHERE geom && !bbox!
        ) AS t
      type: postgis
      user: osm
    description: Buildings
    fields: 
      scalerank: Number
    properties: 
      "buffer-size": 4
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: place
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geom
      geometry_table: ''
      host: db
      key_field: ''
      key_field_as_attribute: ''
      max_size: 512
      password: osm
      port: 5432
      srid: ''
      table: |-
        ( 
          SELECT * FROM (
          SELECT geom, name, class, rank, scalerank,
          row_number() OVER (
            PARTITION BY LabelGrid(geom, 150 * !pixel_width!)
            ORDER BY scalerank ASC NULLS LAST,
            CASE class
              WHEN 'settlement' THEN 10
              WHEN 'subregion' THEN 5
              WHEN 'locality' THEN 2 ELSE 1
            END DESC,
            rank DESC,
            population DESC NULLS LAST,
            length(name) DESC
          ) AS gridrank
          FROM (
              SELECT * FROM place_z2
              WHERE z(!scale_denominator!) = 2
              UNION ALL
              SELECT * FROM place_z3
              WHERE z(!scale_denominator!) = 3
              UNION ALL
              SELECT * FROM place_z4
              WHERE z(!scale_denominator!) = 4
              UNION ALL
              SELECT * FROM place_z5
              WHERE z(!scale_denominator!) = 5
              UNION ALL
              SELECT * FROM place_z6
              WHERE z(!scale_denominator!) = 6
              UNION ALL
              SELECT * FROM place_z7
              WHERE z(!scale_denominator!) = 7
              UNION ALL
              SELECT * FROM place_z8
              WHERE z(!scale_denominator!) BETWEEN 8 AND 9
              UNION ALL
              SELECT * FROM place_z10
              WHERE z(!scale_denominator!) = 10
              UNION ALL
              SELECT * FROM place_z12
              WHERE z(!scale_denominator!) BETWEEN 11 AND 12
              UNION ALL
              SELECT * FROM place_z13
              WHERE z(!scale_denominator!) >= 13
          ) AS place
          WHERE geom && !bbox!
          ) AS ranked_place
          WHERE z(!scale_denominator!) <= 7 OR
               (z(!scale_denominator!) = 8 AND gridrank <= 4) OR 
               (z(!scale_denominator!) = 9 AND gridrank <= 9) OR 
               (z(!scale_denominator!) = 10 AND gridrank <= 9) OR
               (z(!scale_denominator!) = 11 AND gridrank <= 9) OR
               (z(!scale_denominator!) = 12 AND gridrank <= 9) OR
               z(!scale_denominator!) >= 13
        ) AS t
      type: postgis
      user: osm
    description: Buildings
    fields: 
      class: String
      gridrank: Number
      name: String
      scalerank: Number
    properties: 
      "buffer-size": 64
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
maxzoom: 14
minzoom: 0
name: OSM2VectorTiles v3.0
